<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>indexpage</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=Gideon+Roman&family=Heebo:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Roboto+Slab:wght@100..900&display=swap"
    rel="stylesheet">


  <!-- Owl Carousel CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">


  <link href="css/index.css" rel="stylesheet">
</head>

<body>
  <div class="container-fluid  d-none d-md-block " style="background-color: #E1E4EB;">
    <!-- nav-start -->
    <div class="row py-2 border-bottom " style="border-color: #808183;">
      <div class="col-6 d-flex  gap-4 px-5 text-start location">
        <span class=" d-flex justify-content-center">
          <i class='bx bxs-map'></i>
          123 Street, New York, USA </span>
        <span class=" d-flex justify-content-center">
          <i class='bx bx-envelope'></i>
          info@example.com</span>

      </div>
      <div class="col-6 d-flex gap-3 px-5 justify-content-end align-items-center social-icons ">
        <span style="font-size: 18px;font-weight: 500">Follow us :</span>
        <span><i class='bx bxl-instagram'></i></span>
        <span><i class='bx bxl-facebook'></i></span>
        <span><i class='bx bxl-whatsapp'></i></span>
        <span><i class='bx bxl-youtube'></i></span>
      </div>
    </div>
    <!-- welcome to username on website -->
   <div class="welcomename ps-5" style="display:none;">
  <h2 class="m-0">WELCOME <span id="usernameDisplay" class="ms-1"></span></h2>
</div>


    <!-- user base showed -->
    <div class="row py-2 border-bottom  d-block d-md-none" style="border-color: #808183;">
      <div class="nav-icons d-flex justify-content-around p-2 gap-3  ">
        <span><i class='bx bx-search'></i></span>
        <span><i class='bx bxs-user'></i></span>
        <span class="position-relative" onclick="goToCartPage()" style="cursor: pointer;">
          <i class='bx bxs-cart' id="cartIcon"></i>
          <span id="cartCountBadge" class="cart-badge"></span>
        </span>

        <span class="position-relative border">
          <i class='bx bx-heart' id="navHeartIcon"></i>
          <span class="like-badge" id="likeCountBadge"></span>
        </span>

      </div>
    </div>
  </div>
  <!-- nav-bar -->
  <div class="container-fluid nav-container sticky-top d-none d-md-block" id="navbar"
    style="background-color: #E1E4EB;">
    <nav class="navbar navbar-expand-lg navbar-light  border-bottom ">
      <div class="container-fluid px-4 py-2">
        <a class="navbar-brand ms-3" href="#"><span>DEV</span>WERX</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse d-flex justify-content-end gap-3 me-3" id="navbarNavAltMarkup">
          <div class="navbar-nav  d-flex  gap-3">
            <a class="nav-link " aria-current="page" href="#">Home</a>
            <!-- active -->
            <a class="nav-link" href="features.html">Features</a>
            <a class="nav-link" href="#">About</a>
            <!-- Add this inside your desktop navbar (e.g., inside .navbar-nav) -->
            <a id="adminLink" class="nav-link" href="admin.html" style="display: none;">Admin</a>
            <!-- logout  -->
            <a id="logoutDesktop" class="nav-link" style="display: none;" >Logout</a>



          </div>
          <div class="nav-icons d-flex justify-content-around gap-3 d-none d-md-block ">
            <span><i class='bx bx-search'></i></span>
            <span><a href="signup.html"><i class='bx bxs-user'></i></a></span>
            <span class="position-relative border" onclick="goToCartPage()" style="cursor: pointer;">
              <i class='bx bxs-cart' id="cartIcon"></i>
              <span id="cartCountBadge" class="cart-badge"></span>
            </span>

            <span class="position-relative border">
              <i class='bx bx-heart' id="navHeartIcon"></i>
              <span class="like-badge" id="likeCountBadge"></span>
            </span>

          </div>
        </div>

      </div>
    </nav>
  </div>
   <!-- loader for logout -->
  <div class="container-fluid" id="logoutLoader" style="display:none;">
<div class="spinner"></div>
</div>
  <!-- Mobile Navbar -->
  <nav class="navbar d-md-none d-block">
    <div>
      <a class="navbar-brand ms-3" href="#"><span>DEV</span>WERX</a>
    </div>
 <div class="toggle-bar d-flex justify-content-between align-items-center gap-4">
  
  <span class="d-flex justify-content-center align-items-center">
    <a href="signin.html" class="border d-flex flex-column  text-decoration-none">
      <i class='bx bxs-user'></i>
      <small>Login</small>
    </a>
    
  </span>

  <div class="d-flex flex-column justify-content-center align-items-center gap-1" onclick="toggleMenu()">
    <div class="menu-toggle">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <small>Menu</small>
  </div>

</div>

  </nav>
  <div class="nav-links d-md-none" id="navLinks">

    <!-- welcome username inmobile view -->
    <div id="mobileProfile" style="display:none;">
    <div id="profileCircleMobile" class="profile-circle"></div>
    <h2 class="m-0 d-flex justify-content-center align-items-center gap-2">WELCOME <span id="usernameDisplayMobile"></span></h2>
  </div>

      <a href="index.html" class="home" onclick="toggleMenu()">HOME</a>
      <a class="nav-link" href="features.html">FEATURES</a>
      <a class="nav-link" href="#">ABOUT</a>
      <!-- Inside the mobile nav-links -->
      <a id="adminLinkMobile" class="nav-link" href="admin.html" style="display: none;">ADMIN</a>
      <!-- logout  -->
    <a id="logoutMobile" class="nav-link" style="display: none;" >LOGOUT</a>
      


    </div>
  <div class="container-fluid d-md-none d-block fixed-bottom border-top bottom-bar">
    <div class="row text-center">
      <div class="col py-2 active">
        <a href="index.html" class="text-dark text-decoration-none">
          <i class='bx bx-home-circle'></i><br>
        </a>
      </div>
      <div class="col py-2">
        <a href="category.html" class="text-dark text-decoration-none">
          <i class='bx bx-grid-alt'></i><br>
        </a>
      </div>
      <div class="col py-2">
        <a href="liked-products.html" class="text-dark text-decoration-none">
          <i class='bx bx-heart'></i><br>
        </a>
      </div>
      <div class="col py-2">
        <a href="cart.html" class="text-dark text-decoration-none">
          <i class='bx bx-cart'></i><br>
        </a>
      </div>
    </div>
  </div>

 

  <!-- carousel -->
  <div class="container-fluid p-0">
    <div class="owl-carousel owl-theme owl-carousel-1">
      <div class="item "><img src="img/carousel-image-1.png" alt="Slide 1">
        <div class="content">
          <h1>Organic Food Is Good For Health </h1>
          <div class="content-button">
            <button class="b-1">Products</button>
            <button class="b-2">Services</button>
          </div>
        </div>
      </div>
      <div class="item"><img src="img/carousel-image-1.png" alt="Slide 2">
        <div class="content">
          <h1>Organic Food Is Good For Health </h1>
          <div class="content-button">
            <button class="b-1">Products</button>
            <button class="b-2">Services</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  
  <!-- product card ----- -->
  <div class="container product-container ">

   <div class="row search-con">
  <!-- Left column -->
  <div class="col-12 col-md-7 ps-5">
    <div clss="product-line ">
    <p class="product-small"></p>
    <p class="product-big"></p>
  </div>
  </div>

  <!-- Right column -->
  <div class="col-12 col-md-5  ">
    <!-- Search box -->
    <div class="searchBox d-flex position-relative">
 <input class="searchInput form-control" 
             type="text" 
             id="searchInput" 
             placeholder="Search categories" 
             onkeyup="handleKeyNavigation(event)">
          <button class="searchButton btn btn-primary ms-2"   onclick="goToCategory()" >
        <svg xmlns="http://www.w3.org/2000/svg" width="29" height="29" viewBox="0 0 29 29" fill="none">
          <g clip-path="url(#clip0_2_17)">
            <g filter="url(#filter0_d_2_17)">
              <path d="M23.7953 23.9182L19.0585 19.1814M19.0585 19.1814C19.8188 18.4211 20.4219 17.5185 20.8333 16.5251C21.2448 15.5318 21.4566 14.4671 21.4566 13.3919C21.4566 12.3167 21.2448 11.252 20.8333 10.2587C20.4219 9.2653 19.8188 8.36271 19.0585 7.60242C18.2982 6.84214 17.3956 6.23905 16.4022 5.82759C15.4089 5.41612 14.3442 5.20435 13.269 5.20435C12.1938 5.20435 11.1291 5.41612 10.1358 5.82759C9.1424 6.23905 8.23981 6.84214 7.47953 7.60242C5.94407 9.13789 5.08145 11.2204 5.08145 13.3919C5.08145 15.5634 5.94407 17.6459 7.47953 19.1814C9.01499 20.7168 11.0975 21.5794 13.269 21.5794C15.4405 21.5794 17.523 20.7168 19.0585 19.1814Z" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" shape-rendering="crispEdges"></path>
            </g>
          </g>
          <defs>
            <filter id="filter0_d_2_17" x="-0.418549" y="3.70435" width="29.7139" height="29.7139" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
              <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"></feColorMatrix>
              <feOffset dy="4"></feOffset>
              <feGaussianBlur stdDeviation="2"></feGaussianBlur>
              <feComposite in2="hardAlpha" operator="out"></feComposite>
              <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"></feColorMatrix>
              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2_17"></feBlend>
              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2_17" result="shape"></feBlend>
            </filter>
            <clipPath id="clip0_2_17">
              <rect width="28.0702" height="28.0702" fill="white" transform="translate(0.403503 0.526367)"></rect>
            </clipPath>
          </defs>
        </svg>
      </button>
       <!-- Suggestion dropdown -->
      <ul id="results" 
          class="list-group position-absolute w-100" 
          style="top: 100%; z-index: 1000;"></ul>
    </div>
   
  </div>
</div>


    <p class="heading  ps-4 m-0">Our Products</p>
    <div class="row product-row px-4 m-0">
      <!-- loader -->
       <div id="loader" class="d-flex justify-content-center align-items-center m-5">
         <div class="loader"></div>
<p class="loader-text m-0">
  <span>L</span><span>o</span><span>a</span><span>d</span><span>i</span><span>n</span><span>g</span><span>.</span><span>.</span><span>.</span>
</p>
         </div>
          

    </div>
    <div class="product-btn text-center mt-4">
      <button>Browse More Products</button>
    </div>
  </div>
  <!-- visit section--------- -->
  <div class="container-fluid visit-container ">
    <div class="row">
      <div class="col-12 col-md-7">
        <p class="heading">Visit Our Firm</p>
        <p class="para">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita
          erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet. Diam dolor diam ipsum
          sit. Aliqu diam amet diam et eos.</p>
      </div>
      <div class="col-12 col-md-5 visit-btn">
        <button>visit now</button>
      </div>
    </div>

  </div>

  <!-- customer review section------- -->
  <div class="cantainer-fluid customer-container text-center">
    <div class="line">
      <p class="small"></p>
      <p class="big"></p>
    </div>
    <p class="heading px-4 ps-md-5 mt-2 mb-2">Customer Review</p>
    <div class="para text-center px-4 ps-md-5 ">
      <p>Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed rebum vero dolor duo.</p>
    </div>
    <div class="owl-carousel owl-theme owl-carousel-2">
      <div class="item">
    <div class="review-text text-start">
      "Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed rebum vero dolor duo."
    </div>
    <div class="row mt-4 align-items-center">
      <div class="quotetion"><i class='bx bxs-quote-left'></i></div>

      <div class="col-4 text-center">
        <div class="img">
          <img class="review-img" src="img/person-1.jpg" alt="User">
        </div>
      </div>

      <div class="review-name col-8 text-start">
        <p class="m-0">John Doe</p>
        <p style="font-size: 16px; font-weight: 500;">Professional</p>
      </div>
    </div>
  </div>
      <div class="item">
        <div class="review-text text-start">"Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed
          rebum vero dolor duo."</div>
        <div class="row mt-4">
          <div class="quotetion"><i class='bx bxs-quote-left'></i></div>
          <div class="col-4 text-center">
            <img class="review-img " src="img/person-2.jpg" alt="User">
          </div>

          <div class="review-name col-8 text-start">
            <p class="m-0">jane smith</p>
            <p style="font-size: 16px; font-weight: 500;">professional
          </div>
        </div>

      </div>
      <div class="item">
        <div class="review-text text-start">"Tempor ut dolore lorem kasd vero ipsum sit eirmod sit. Ipsum diam justo sed
          rebum vero dolor duo."</div>
        <div class="row mt-4">
          <div class="quotetion"><i class='bx bxs-quote-left'></i></div>
          <div class="col-4 text-center">
            <img class="review-img " src="img/person-3.jpg" alt="User">
          </div>

          <div class="review-name col-8 text-start">
            <p class="m-0">Angel meria</p>
            <p style="font-size: 16px; font-weight: 500;">professional
          </div>
        </div>

      </div>

      <!-- Add more reviews as needed -->
    </div>
    <!-- Custom Prev/Next Buttons -->
    <div class="custom-nav">
      <button id="prevBtn"><i class='bx bx-chevron-left'></i></button>
      <button id="nextBtn"><i class='bx bx-chevron-right'></i></button>
    </div>



  </div>
  <!-- footter section -->
  <div class="container-fluid footer">
    <div class="row">
      <div class="col-12 col-md-3">
        <a class="navbar-brand " href="#"><span>DEV</span>WERX</a>
        <P class="footer-para mt-4">Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et
          sit, sed stet lorem sit clita</P>
        <div class="footer-icons">
          <a href=""><i class='bx bxl-facebook'></i></a>
          <a href=""><i class='bx bxl-whatsapp'></i></a>
          <a href=""><i class='bx bxl-youtube'></i></a>
          <a href=""><i class='bx bxl-linkedin'></i></a>

        </div>
      </div>
      <div class="col-12 col-md-3 address mt-md-0 mt-4">
        <p class="footer-head">Address</p>
        <p class="footer-para"><i class='bx bxs-map'></i><span>123 Street, New York, USA</span></p>
        <p class="footer-para"><i class='bx bxs-phone'></i><span>+012 345 67890</span></p>
        <p class="footer-para"><i class='bx bxs-envelope'></i><span>info@example.com</span></p>
      </div>

      <div class="col-12 col-md-3 link mt-md-0 mt-4">
        <p class="footer-head">Quick Links</p>
        <a class="footer-para "><i class='bx bxs-chevron-right'></i><span>About Us</span></a>
        <a class="footer-para"><i class='bx bxs-chevron-right'></i><span>Contact Us</span></a>
        <a class="footer-para"><i class='bx bxs-chevron-right'></i><span>Our Service</span></a>
        <a class="footer-para"><i class='bx bxs-chevron-right'></i><span>Terms & Condition</span></a>
        <a class="footer-para"><i class='bx bxs-chevron-right'></i><span>Support</span></a>
      </div>
      <div class="col-12 col-md-3 mt-md-0 mt-3">
        <div class="newsletter">
          <p class="footer-head">Newsletter</p>
          <p class="newsletter-description">Stay updated with our latest news</p>
          <form class="newsletter-form">
            <input type="email" placeholder="Enter your email" required>
            <button type="submit">Subscribe</button>
          </form>
        </div>

      </div>
      <hr class="bg-light mt-5" />
      <div class="text-center mb-5">
        <p class="m-0">© 2025 Devwerx Software Solution. All Rights Reserved.</p>
      </div>
    </div>
  </div>
  <!-- <div style="height: 100vh;"></div> -->






  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
    integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
    crossorigin="anonymous"></script>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Owl Carousel JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
  <script src="js/index.js"></script>

 <script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>


<script>
document.addEventListener("DOMContentLoaded", () => {
  const savedUsername = localStorage.getItem("username");
  if (savedUsername) {
    // Desktop
    const usernameSpan = document.getElementById("usernameDisplay");
    if (usernameSpan) {
      usernameSpan.textContent = savedUsername;
      document.querySelector(".ps-5").style.display = "block";
    }

    // Mobile
    const profileCircleMobile = document.getElementById("profileCircleMobile");
    const usernameDisplayMobile = document.getElementById("usernameDisplayMobile");
    const mobileProfile = document.getElementById("mobileProfile");

    if (profileCircleMobile && usernameDisplayMobile && mobileProfile) {
      const firstLetter = savedUsername.charAt(0).toUpperCase();
      profileCircleMobile.textContent = firstLetter;
      usernameDisplayMobile.textContent = savedUsername;
      mobileProfile.style.display = "flex";
      mobileProfile.style.gap = "10px"; 
    }
  }
});

document.addEventListener("DOMContentLoaded", () => {
  const logoutBtn = document.getElementById("logoutDesktop");
  const logoutBtnMobile = document.getElementById("logoutMobile");
  // Desktop
  if (logoutBtn) {
    logoutBtn.addEventListener("click", () => logout(logoutBtn));
  }
  // mobile
   if (logoutBtnMobile) {
    logoutBtnMobile.addEventListener("click", () => logout(logoutBtnMobile));
  }
});


async function logout(logoutBtn, logoutBtnMobile) {
  const token = localStorage.getItem("token");
  if (!token) {
    window.location.href = "signin.html";
    return;
  }

  const logoutLoader = document.getElementById("logoutLoader");
  if (logoutLoader) {
    logoutLoader.style.display = "flex"; // show loader
    logoutLoader.classList.add("justify-content-center", "align-items-center");
  }

  try {
    //  const res = await fetch("http://localhost:8080/auth/logout",
    const res = await fetch("https://ecommerce-backend-wnu9.onrender.com/auth/logout",
     {
      method: "POST",
      headers: { "Authorization": `Bearer ${token}` }
    });

    const message = await res.text(); // backend returns plain text

    if (res.ok) {
      // ✅ Logout success
      localStorage.clear();
      if (logoutBtn) logoutBtn.style.display = "none";
      if (logoutBtnMobile) logoutBtnMobile.style.display = "none";

      setTimeout(() => {
        if (logoutLoader) logoutLoader.style.display = "none";
        window.location.href = "signin.html";
      }, 2000); // shorter loader effect
    } else {
      // ❌ Logout failed (token missing or server error)
      alert("Logout failed: " + message);
      if (logoutLoader) logoutLoader.style.display = "none";
    }
  } catch (err) {
    console.error("Logout failed:", err);
    alert("Logout error: " + err.message);
    if (logoutLoader) logoutLoader.style.display = "none";
  }
}



// logoutbtn showed 
document.addEventListener("DOMContentLoaded", () => {
  const token = localStorage.getItem("token");
  if (token) {
    // Desktop
    const logoutBtn = document.getElementById("logoutDesktop");
    if (logoutBtn) logoutBtn.style.display = "block";
    // mobile
    const logoutBtnMobile = document.getElementById("logoutMobile");
    if (logoutBtnMobile) logoutBtnMobile.style.display = "block";
  }
});



</script>
<script src="js/auth-check.js"></script>
</body>

</html>